<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="ie ie6 lte9 lte8 lte7" lang="en-US" prefix="og: http://ogp.me/ns#">
<![endif]-->
<!--[if IE 7]>
<html class="ie ie7 lte9 lte8 lte7" lang="en-US" prefix="og: http://ogp.me/ns#">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8 lte9 lte8" lang="en-US" prefix="og: http://ogp.me/ns#">
<![endif]-->
<!--[if IE 9]>
<html class="ie ie9" lang="en-US" prefix="og: http://ogp.me/ns#"> 
<![endif]-->
<!--[if gt IE 9]>  <html lang="en-US" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if !IE]><!--> 
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<!--<![endif]-->
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="initial-scale=1.0; maximum-scale=3.0; width=device-width" />
	
	
	
	<link rel="profile" href="http://gmpg.org/xfn/11" />
	<link rel="pingback" href="http://mobilesensingtechnology.com/xmlrpc.php" />
	
	<!-- IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
		<script src="http://mobilesensingtechnology.com/wp-content/themes/gdmedical/inc/js/html5.js" type="text/javascript"></script>
	<![endif]-->
	
	
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.3.4.4 - http://yoast.com/wordpress/seo/ -->
<title>GPRS and Meteorological shield - Mobile Sensing Technology</title>
<link rel="canonical" href="http://mobilesensingtechnology.com/add-ons/gprs-and-meteorological-shield/" />
<meta property='og:locale' content='en_US'/>
<meta property='og:title' content='GPRS and Meteorological shield - Mobile Sensing Technology'/>
<meta property='og:url' content='http://mobilesensingtechnology.com/add-ons/gprs-and-meteorological-shield/'/>
<meta property='og:site_name' content='Mobile Sensing Technology'/>
<meta property='og:type' content='article'/>
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Mobile Sensing Technology &raquo; Feed" href="http://mobilesensingtechnology.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Mobile Sensing Technology &raquo; Comments Feed" href="http://mobilesensingtechnology.com/comments/feed/" />
<link rel='stylesheet' id='contact-form-7-css'  href='http://mobilesensingtechnology.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=3.3.3' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-style-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/bootstrap/css/bootstrap.min.css?ver=2.0.4' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-responsive-style-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/bootstrap/css/bootstrap-responsive.min.css?ver=2.0.4' type='text/css' media='all' />
<link rel='stylesheet' id='cyberchimps_responsive-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/bootstrap/css/cyberchimps-responsive.min.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='core-style-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/css/core.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/style.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='skin-style-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/inc/css/skins/grey.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='elements_style-css'  href='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/elements/lib/css/elements.css?ver=3.5.1' type='text/css' media='all' />
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/js/jquery.slimbox.js?ver=1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/js/jquery.jcarousel.min.js?ver=1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/js/custom.js?ver=1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/js/jquery.mobile.custom.min.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/js/swipe-call.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/js/video.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/elements/lib/js/elements.js?ver=3.5.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://mobilesensingtechnology.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://mobilesensingtechnology.com/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.5.1" />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-41891333-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!-- Simple Social Buttons style sheet -->
<style type="text/css">
   div.simplesocialbuttons { height: 20px; margin: 10px auto 10px 0; text-align: center; clear: left; }
   div.simplesocialbutton { float: left; text-align: center;}
</style>
<!-- End of Simple Social Buttons -->

	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="custom-background-css">
	body.custom-background {  }
</style>
  
  <style type="text/css" media="all">
	  body {
    	      	font-size: 14px;     
    	      	font-family: Tahoma, Geneva, sans-serif;     
    	      	font-weight: normal;     
    	  }
        .container {
        max-width: 1200px;
      }
    </style>

</head>

<body class="page page-id-630 page-child parent-pageid-187 page-template-default">

<div class="container">
	

<div id="wrapper" class="container-fluid">	
	
		<header id="cc-header" class="row-fluid">
		<div class="span7">
				
	<hgroup>
		<h1 class="site-title">
    	<a href="http://mobilesensingtechnology.com/" title="Mobile Sensing Technology" rel="home">Mobile Sensing Technology</a>
    </h1>
    	</hgroup>
		</div>	
	
		<div id ="register" class="span5">
			  
  <div class="contact_details">
		  </div>
		</div>
	</header>
	
	
	<nav id="navigation" class="row-fluid" role="navigation">
      <div class="main-navigation navbar">
        <div class="navbar-inner">
        	<div class="container">
          	
          	  					<div class="nav-collapse collapse">
                      		<div class="menu-main-container"><ul id="menu-main" class="nav"><li id="menu-item-495" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-495"><a href="http://mobilesensingtechnology.com/">UPOD</a></li>
<li id="menu-item-497" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-497"><a href="http://mobilesensingtechnology.com/about-us/">ABOUT IT</a></li>
<li id="menu-item-498" class="menu-item menu-item-type-post_type menu-item-object-page dropdown menu-item-498"data-dropdown="dropdown"><a href="http://mobilesensingtechnology.com/build-it/" class="dropdown-toggle">BUILD IT <b class="caret"></b> </a>
<ul class="dropdown-menu">
	<li id="menu-item-506" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-506"><a href="http://mobilesensingtechnology.com/build-it/">Build It</a></li>
	<li id="menu-item-494" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-494"><a href="http://mobilesensingtechnology.com/build-it/the-board/">The Board</a></li>
	<li id="menu-item-493" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-493"><a href="http://mobilesensingtechnology.com/build-it/the-parts/">The Parts</a></li>
	<li id="menu-item-492" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-492"><a href="http://mobilesensingtechnology.com/build-it/the-assembly-2/">The Assembly</a></li>
</ul>
</li>
<li id="menu-item-499" class="menu-item menu-item-type-post_type menu-item-object-page dropdown menu-item-499"data-dropdown="dropdown"><a href="http://mobilesensingtechnology.com/run-it/" class="dropdown-toggle">RUN IT <b class="caret"></b> </a>
<ul class="dropdown-menu">
	<li id="menu-item-502" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-502"><a href="http://mobilesensingtechnology.com/run-it/">Run It</a></li>
	<li id="menu-item-489" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-489"><a href="http://mobilesensingtechnology.com/run-it/setup/">Setup</a></li>
	<li id="menu-item-488" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-488"><a href="http://mobilesensingtechnology.com/run-it/bootloading/">Bootloading</a></li>
	<li id="menu-item-491" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-491"><a href="http://mobilesensingtechnology.com/run-it/the-programmer/">The Programmer</a></li>
	<li id="menu-item-490" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-490"><a href="http://mobilesensingtechnology.com/run-it/the-firmware/">The Firmware</a></li>
	<li id="menu-item-487" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-487"><a href="http://mobilesensingtechnology.com/run-it/plug-and-play/">Plug and Play</a></li>
</ul>
</li>
<li id="menu-item-480" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-480"><a href="http://mobilesensingtechnology.com/the-data/">Data</a></li>
<li id="menu-item-481" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor dropdown menu-item-481"data-dropdown="dropdown"><a href="http://mobilesensingtechnology.com/add-ons/" class="dropdown-toggle">Add-ons <b class="caret"></b> </a>
<ul class="dropdown-menu">
	<li id="menu-item-504" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-page-parent menu-item-504"><a href="http://mobilesensingtechnology.com/add-ons/">Add-ons</a></li>
	<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-630 current_page_item menu-item-636 active"><a href="http://mobilesensingtechnology.com/add-ons/gprs-and-meteorological-shield/">GPRS and Meteorological shield</a></li>
	<li id="menu-item-483" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-483"><a href="http://mobilesensingtechnology.com/add-ons/wifly-breakout/">Wifly breakout</a></li>
	<li id="menu-item-484" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-484"><a href="http://mobilesensingtechnology.com/add-ons/adc-breakout/">ADC breakout</a></li>
	<li id="menu-item-485" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-485"><a href="http://mobilesensingtechnology.com/add-ons/quad-stat/">Quad-stat</a></li>
	<li id="menu-item-482" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-482"><a href="http://mobilesensingtechnology.com/add-ons/potentiostat-shield/">Potentiostat shield</a></li>
</ul>
</li>
<li id="menu-item-599" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-599"><a href="http://mobilesensingtechnology.com/contact-us/">Contact Us</a></li>
</ul></div>			
			      			</div><!-- collapse -->
			<!-- .btn-navbar is used as the toggle for collapsed navbar content -->
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
                 </div><!-- container -->
        </div><!-- .navbar-inner .row-fluid -->
      </div><!-- main-navigation navbar -->
	</nav><!-- #navigation -->
	
	

<div id="container" class="row-fluid">
	
		
	<div id="content" class=" span12">
		
				
		
			
<article id="post-630" class="post-630 page type-page status-publish hentry">
	
	<header class="entry-header">
  
  			
				<h2 class="entry-title">
					</h2>
	
	</header><!-- .entry-header -->
  
			<div class="entry-summary">
						<p>The GPRS and Meteorological shield adds functionality to the UPOD in both data acquisition and transmission.   The shield provides three basic functions: 1) an interface for incorporating wind speed and wind direction into the UPOD data-stream 2) a header for the <a href="https://www.sparkfun.com/products/10138" target="_blank">ADH8066 GSM/GPRS module</a> and 3) an FTDI USB-UART driver for communicating with the UPOD or GPRS/GSM via serial USB.</p>
<table width="100%" border-collapse="collapse";border="0">
<tr>
<td width="50%" height="300px" style="background:url('http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_perspective.jpg') no-repeat center;background-size:contain;">
<a style="display:block;height:300px;" href="http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_perspective.jpg"></a>
</td>
<td style="background:url('http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_perspective_wADH8066.jpg') no-repeat center;background-size:contain;">
<a style="display:block;height:300px;" href="http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_perspective_wADH8066.jpg"></a>
</td>
</tr>
</table>
<hr />
Let us take a more in-depth look at how to use this shield.  </p>
<h3>Board Layout</h3>
<p>There are three options for providing 5VDC power to the met station shield.  1) It can be plugged directly into the UPOD or Arduino and receive power through the shield&#8217;s pin header, 2) an extra header labelled &#8217;5V/GND&#8217; can be used to power the shield or 3) power can be supplied through the Ethernet header (see the &#8216;Meteorological&#8217; section).</p>
<p>The board is compatible with the <a href="https://www.sparkfun.com/products/10138">ADH8066 GSM/GPRS module</a>.  This module provides the capability to transmit data remotely using cell phone towers.  You could program the UPOD to send a txt message warning of low battery power, for example, or have data uploaded to an FTP server.</p>
<p>An FTDI chip allows for serial communication with the GPRS/GSM module or the UPOD using a USB connection to an external computer.  The communication pathway is selectable using a 6 channel dip switch and solder jumpers on the rear of the board.  The USB connection can also be used to upload code onto the UPOD.</p>
<p>Lastly, an RJ45 header allows for a meteorological station to be connected to the UPOD.  The &#8216;MET_STATION&#8217; flag compiles the UPOD firmware such that wind speed and wind direction are logged by the UPOD.</p>
<h3>Serial Communication</h3>
<p>This is important if you want to send data in any of the following ways:<br />
external computer <-> UPOD<br />
external computer <-> GPRS/GSM module<br />
UPOD <-> GPRS/GSM module<br />
First, if you are not familiar with serial communication, do yourself a favor and read up on Universal Asynchronous Receiver/Transmitter (UART) basics.  UART is the protocol used by the atmega microcontroller (most microcontrollers and all Arduino models).  The &#8216;Serial&#8217; referred to on the <a href="http://arduino.cc/en/reference/serial">Arduino webpage</a> is UART.  I will try to give a rundown here of the barebones needed to use the shield and interface it with an external computer or the UPOD (the shield may also be used with an Arduino as well!).</p>
<p>In its most basic form, serial communication consist of two lines 1) a receive, or Rx line and 2) a transmit, or Tx line.  <i>The receive or transmit nomenclature is with respect to the device of which you are speaking.</i> This is very important and a point of confusion for many people.</p>
<p>For example, suppose we would like to connect the UPOD to the GPRS module.  The connection would be:<br />
UPOD Tx <-> GPRS Rx<br />
UPOD Rx <-> GPRS Tx<br />
Here, the transmit line <i>out of</i>  the UPOD is connected to the receive line <i>into</i> the GPRS module, and vice versa.</p>
<p>The GPRS/Met shield has several of these connections already selectable via the 6 channel DIP switch.  The channels are counted from bottom to top, and make the following connections:</p>
<table width="100%">
<tbody>
<tr>
<td>
<ol>
<li>GND <-> FTDI CTS</li>
<li>ATMEGA TX <-> FTDI RX</li>
<li>ATMEGA RST <-> FTDI DTR</li>
<li>ATMEGA RX <-> FTDI TX</li>
<li>GPRS RX <-> FTDI TX</li>
<li>GPRS TX <-> FTDI RX</li>
</ol>
</td>
<td width="35%" height="400px" style="background:url('http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_top.jpg') no-repeat center;background-size:contain;">
<a style="display:block;height:400px;" href="http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_top.jpg"></a>
</td>
<td width="35%" height="400px" style="background:url('http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_bottom.jpg') no-repeat center;background-size:contain;">
<a style="display:block;height:400px;" href="http://mobilesensingtechnology.com/wp-content/uploads/2013/10/met_shield_bottom.jpg"></a>
</td>
</tr>
</tbody>
</table>
<p>There are solder jumpers connecting ATMEGA RX/TX <-> GPRS TX/RX on the rear of the board.  All connections are also printed on the PCB silkscreen (click image to enlarge).</p>
<p>Typically, you will want to have ATMEGA RST <-> FTDI DTR in the OFF position, and GND <-> FTDI CTS in the ON position.  The DTR to RST function is only applicable when using the shield to program the UPOD Atmega microcontroller.  Even then, the use of the DTR to initiate the program upload is computer dependent (see the &#8216;GPRS/Met shield as UPOD programmer&#8217; section).</p>
<p>The remaining Rx/Tx connections should be switched ON/OFF depending on which devices are connected for communication.</p>
<hr />
<h3>Connecting a computer to the GPRS module</h3>
<p>Here is an example of how to connect an external computer to the GPRS module.  This is a good way to test that your GPRS setup is functioning properly before integrating it into the UPOD.</p>
		</div><!-- .entry-summary -->
	
	
	<footer class="entry-meta">
		    
				
				
	</footer><!-- #entry-meta -->
	
</article><!-- #post-630 -->
			
			
				
	</div><!-- #content -->
	
			
</div><!-- #container .row-fluid-->


</div><!-- #wrapper .container-fluid -->
	


<footer class="site-footer row-fluid">
	
	<div id="copyright">© Mobile Sensing Technology</div>	
</footer><!-- .site-footer .row-fluid -->


</div><!-- #wrapper .container-fluid -->


</div><!-- container -->

<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.25.0-2013.01.18'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/mobilesensingtechnology.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ..."};
/* ]]> */
</script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=3.3.3'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201709'></script>
<script type='text/javascript' src='http://mobilesensingtechnology.com/wp-content/themes/gdmedical/cyberchimps/lib/bootstrap/js/bootstrap.min.js?ver=2.0.4'></script>

</body>
</html>